{
  "version": 2,
  "principle": "sequenced_only",
  "decisions": {
    "runtime_config_format": "yaml_only",
    "backward_compat_policy": "greenfield_breaking_ok"
  },
  "notes": [
    "This file defines the preferred execution order for upcoming feature sprints.",
    "Work is sequenced sprint-by-sprint; within a sprint, execute triads per docs/project_management/standards/TASK_TRIADS_AND_FEATURE_SETUP.md (code + test can run concurrently; integration lands).",
    "Avoid interleaving work across sprints to minimize merge/conflict risk and schema churn."
  ],
  "sprints": [
    {
      "order": 10,
      "id": "yaml_settings_migration",
      "title": "Runtime settings migration: TOML → YAML",
      "branch": "feat/yaml-settings-migration",
      "directory": "docs/project_management/next/yaml-settings-migration",
      "plan": "docs/project_management/next/yaml-settings-migration/plan.md",
      "status": "completed",
      "sequence": [{ "id": "Y0", "spec": "docs/project_management/next/yaml-settings-migration/Y0-spec.md" }],
      "notes": [
        "This is the smallest migration needed to reach YAML-only for Substrate-owned runtime config.",
        "Land before any work that adds new settings keys (world-sync, world-deps selection, agent-hub config extensions)."
      ]
    },
    {
      "order": 20,
      "id": "agent_hub_isolation_hardening",
      "title": "Agent hub isolation hardening",
      "branch": "feat/p0-agent-hub-isolation-hardening",
      "directory": "docs/project_management/next/p0-agent-hub-isolation-hardening",
      "plan": "docs/project_management/next/p0-agent-hub-isolation-hardening/ADR-0001-agent-hub-runtime-config-and-isolation.md",
      "status": "completed",
      "sequence": [
        { "id": "I0", "spec": "docs/project_management/next/p0-agent-hub-isolation-hardening/I0-spec.md" },
        { "id": "I1", "spec": "docs/project_management/next/p0-agent-hub-isolation-hardening/I1-spec.md" },
        { "id": "I2", "spec": "docs/project_management/next/p0-agent-hub-isolation-hardening/I2-spec.md" },
        { "id": "I3", "spec": "docs/project_management/next/p0-agent-hub-isolation-hardening/I3-spec.md" },
        { "id": "I4", "spec": "docs/project_management/next/p0-agent-hub-isolation-hardening/I4-spec.md" },
        { "id": "I5", "spec": "docs/project_management/next/p0-agent-hub-isolation-hardening/I5-spec.md" }
      ],
      "notes": [
        "I2/I3 full cage must mount `/var/lib/substrate/world-deps` read-write so ADR-0002 user-space world-deps installs remain compatible under pivot_root (see docs/project_management/next/world_deps_selection_layer/decision_register.md DR-0008)."
      ]
    },
    {
      "order": 25,
      "id": "policy_and_config_mental_model_simplification",
      "title": "Policy + config mental model simplification",
      "branch": "feat/policy-and-config-mental-model-simplification",
      "directory": "docs/project_management/next",
      "plan": "docs/project_management/next/ADR-0003-policy-and-config-mental-model-simplification.md",
      "status": "not_started",
      "sequence": [
        {
          "id": "ADR-0003",
          "spec": "docs/project_management/next/ADR-0003-policy-and-config-mental-model-simplification.md"
        }
      ],
      "notes": [
        "Land before world_sync to avoid building new features on legacy config/policy/env semantics that ADR-0003 removes.",
        "World-sync planning docs MUST be updated to align with ADR-0003 before implementing world_sync code (at minimum C0/C1; expand to more tasks if needed to cover additional world-sync specs)."
      ]
    },
    {
      "order": 30,
      "id": "world_sync",
      "title": "World sync + .substrate-git",
      "branch": "feat/world-sync",
      "directory": "docs/project_management/next/world-sync",
      "plan": "docs/project_management/next/world-sync/plan.md",
      "status": "not_started",
      "sequence": [
        { "id": "C0", "spec": "docs/project_management/next/world-sync/C0-spec.md" },
        { "id": "C1", "spec": "docs/project_management/next/world-sync/C1-spec.md" },
        {
          "id": "WDL0",
          "spec": "docs/project_management/next/world_deps_selection_layer/S0-spec-selection-config-and-ux.md"
        },
        {
          "id": "WDL1",
          "spec": "docs/project_management/next/world_deps_selection_layer/S1-spec-install-classes.md"
        },
        {
          "id": "WDL2",
          "spec": "docs/project_management/next/world_deps_selection_layer/S2-spec-system-packages-provisioning.md"
        },
        { "id": "C2", "spec": "docs/project_management/next/world-sync/C2-spec.md" },
        { "id": "C3", "spec": "docs/project_management/next/world-sync/C3-spec.md" },
        { "id": "C4", "spec": "docs/project_management/next/world-sync/C4-spec.md" },
        { "id": "C5", "spec": "docs/project_management/next/world-sync/C5-spec.md" },
        { "id": "C6", "spec": "docs/project_management/next/world-sync/C6-spec.md" },
        { "id": "C7", "spec": "docs/project_management/next/world-sync/C7-spec.md" },
        { "id": "C8", "spec": "docs/project_management/next/world-sync/C8-spec.md" },
        { "id": "C9", "spec": "docs/project_management/next/world-sync/C9-spec.md" }
      ],
      "notes": [
        "WDL0–WDL2 implement ADR-0002 world-deps selection + install classes + provisioning, sequenced here to avoid CLI conflicts with C1 and to reuse the `.substrate/` workspace model established by C0."
      ]
    },
    {
      "order": 40,
      "id": "json_mode",
      "title": "JSON mode (structured CLI I/O)",
      "branch": "feat/json-mode",
      "directory": "docs/project_management/future/json-mode",
      "plan": "docs/project_management/future/json-mode/json_mode_plan.md",
      "status": "not_started",
      "sequence": [
        { "id": "J1", "name": "Structured mode scaffolding" },
        { "id": "J2a", "name": "Command coverage: core/root" },
        { "id": "J2b", "name": "Command coverage: world/shim/health" },
        { "id": "J2c", "name": "Command coverage: graph/advanced (+ world-deps sync/install)" },
        { "id": "J3a", "name": "JSON input plumbing (simple consumers)" },
        { "id": "J3b", "name": "JSON input for complex workflows" }
      ]
    }
  ]
}
