[dist]
# Explicitly enumerate the tier-1 targets we ship today.
targets = [
  "aarch64-apple-darwin",
  "aarch64-unknown-linux-gnu",
  "x86_64-apple-darwin",
  "x86_64-unknown-linux-gnu",
  "x86_64-pc-windows-msvc",
]
# We ship our own curated install scripts, so skip generating templated installers.
installers = []

[dist.artifacts]
# Keep the automatically generated source tarball and checksums.
source-tarball = true
recursive-tarball = false
unix-archive = "tar.gz"
windows-archive = "zip"

[[dist.artifacts.extra]]
# Collect human-friendly docs and platform installer helpers produced elsewhere
# in the repo so they are attached to every release alongside binary bundles.
build = ["bash", "dist/scripts/collect-supporting-artifacts.sh"]
artifacts = [
  "dist/supporting-artifacts/substrate-support.tar.gz",
  "dist/supporting-artifacts/substrate-support.zip",
]
