[dist]
# Explicitly enumerate the tier-1 targets we ship today.
targets = [
  "aarch64-apple-darwin",
  "aarch64-unknown-linux-gnu",
  "x86_64-apple-darwin",
  "x86_64-unknown-linux-gnu",
  "x86_64-pc-windows-msvc",
]
# We ship our own curated install scripts, so skip generating templated installers.
installers = []

[dist.artifacts]
# Keep the automatically generated source tarball and checksums.
source-tarball = true
recursive-tarball = false

[[dist.artifacts.extra]]
# Collect human-friendly docs and platform installer helpers produced elsewhere
# in the repo so they are attached to every release alongside binary bundles.
build = ["bash", "dist/scripts/collect-supporting-artifacts.sh"]
artifacts = [
  "dist/supporting-artifacts/docs/INSTALLATION.md",
  "dist/supporting-artifacts/docs/CONFIGURATION.md",
  "dist/supporting-artifacts/docs/WORLD.md",
  "dist/supporting-artifacts/installers/install-substrate.sh",
  "dist/supporting-artifacts/installers/lima-warm.sh",
  "dist/supporting-artifacts/installers/wsl-warm.ps1",
]
